[[Distributed Semantic MediaWiki 0.1]]

Contents:
* Disclaimer
* Requirements
* Installation
* Example: LocalSettings.php
* Contact

== Disclaimer ==

In general, the extension can be installed into a working wiki without making
any irreversible changes to the source code or database, so you can try out
the software without much risk (though no dedicated uninstall mechanism is
provided).

== Requirements ==
DSMW has been developped on MW 1.14.0. DSMW-0.3.1 as been tested with version MW-1.13.2,
MW-1.14.0, MW-1.15.0 and MW-1.15.1.
The DSMW extension requires an install of Semantic MediaWiki 1.4.2 or 1.4.3
(cf: http://semantic-mediawiki.org/wiki/Semantic_MediaWiki)
(in the LocalSettings.php file, set the memory limit
from 20 to 50M --> ini_set( 'memory_limit', '50M' )).
For more details, see those extensions'own
installation requirements.

The PHP extension GMP (GNU Multiple Precision) must be installed (or activated)
(also available on Windows platforms since PHP5.1.0) 

Important: If you want to run the DSMW tests, you must make a dump of your 
database immediatly after having executed the script that adds the DSMW tables 
in the database, see point (3) (before using DSMW). For more details, see the
readme file in the tests directory [wikipath]/extensions/DSMW/tests.


== Installation ==

'''Remark:'''  Follow these different points carefully for a successful
               installation and do not copy-paste from the example.

(1) Download the zip file and extract it
    Paste the folder named DSMW into the Mediawiki extension folder
    "[wikipath]/extensions/".

(2) Edit LocalSettings.php in the root of your MediaWiki installation,
    and add the following lines near the bottom but BEFORE THE LINES THAT
    ACTIVATE SEMANTIC MEDIAWIKI(cf. requirements):

  require_once "$IP/extensions/DSMW/DSMW.php";
  $wgGroupPermissions['*']['ArticleAdminPage']       = true;
  require_once("$IP/extensions/DSMW/specialPage/ArticleAdminPage.php" );


'''Remark:'''  The admin user of the wiki must be "WikiSysop" and
the password "admin", if it isn't so, you have to modify those credentials
in the "BasicBot.php" file.
"[wikipath]/extensions/DSMW/bot/BasicBot.php" (line 79-80)
These two lines:
if (!defined('USERNAME')){	define('USERNAME','WikiSysop');}
if (!defined('PASSWORD')){	define('PASSWORD','admin');}

(3) Creation of new tables in the Mediawiki database:
        Create the database tables, executing the script on your MySQL
        administration tool.
        Substitute `wikidb` for the name of your database.
        The script can be found in the file: /DSMW/db/addedTables.sql

(4) The "cache" directory should exist and be writeable by the server
    ([wikipath]/extensions/DSMW/bot/cache)

(5) Edit the LocalSettings.php and add these lines AFTER THE DSMW EXTENSION
    ACTIVATION (see point (2)) and BEFORE THE LINES THAT ACTIVATE SEMANTIC
    MEDIAWIKI:

    $wgLogo = "{$wgScriptPath}/extensions/DSMW/files/Logo.jpeg";
    require_once "$IP/extensions/DSMW/files/DSMWSettingsInc.inc";

    and these line after THE LINES THAT ACTIVATE SEMANTIC MEDIAWIKI:

    global $smwgNamespacesWithSemanticLinks;
    $smwgNamespacesWithSemanticLinks = $smwgNamespacesWithSemanticLinks + array(
		PATCH => true,
		PUSHFEED => true,
                PULLFEED => true,
                CHANGESET => true
                );


== Example: LocalSettings.php ==

The end of this file should look like this:


require_once "$IP/extensions/DSMW/DSMW.php"
$wgGroupPermissions['*']['ArticleAdminPage']       = true;//sysop
require_once("$IP/extensions/DSMW/specialPage/ArticleAdminPage.php" );

$wgLogo = "{$wgScriptPath}/extensions/DSMW/files/Logo.jpeg";

require_once "$IP/extensions/DSMW/files/DSMWSettingsInc.inc";

include_once("$IP/extensions/SemanticMediaWiki/includes/SMW_Settings.php");
enableSemantics($_SERVER['SERVER_NAME']);
global $smwgNamespacesWithSemanticLinks;
$smwgNamespacesWithSemanticLinks = $smwgNamespacesWithSemanticLinks + array(
		PATCH => true,
		PUSHFEED => true,
        PULLFEED => true,
        CHANGESET => true
	);


== Contact ==

If you have any issues or questions, please consult:
https://gforge.inria.fr/projects/m3p/

